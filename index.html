<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>AngularNative</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/moon.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/obsidian.css">

    <link rel="stylesheet" href="css/custom.css">
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section data-background="images/angular_native.png">
        </section>

        <section>
            <h1><span class="warning eng">Angular Native</span></h1>
            <h3>A couple of words about something "new"...</h3>
            <p>
                <span class="green">Yuriy Luchaninov / </span><a href="https://mobidev.biz/" class="eng">mobidev.biz</a>
            </p>
            <p>
                <a href="mailto:y.luchaninov@mobidev.biz" target="_top">y.luchaninov@mobidev.biz</a>
            </p>
            <img width="180" height="48" data-src="images/logo.png" alt=""
                 class="noborder vertical-block">
        </section>
        <section>
            <h2><span class="notify">...and about real life</span></h2>
        </section>

        <!--что это-->

        <section>
            <h2>What is NativeScript made of?</h2>
            <div>
                <img width="250" height="250" data-src="imgs/angular.png" alt=""
                     class="noborder vertical-block fragment">
                <span class="custom-letter vertical-block">+</span>
                <img width="250" height="250" data-src="imgs/nativescript.jpg" alt=""
                     class="noborder vertical-block fragment">
                <span class="custom-letter vertical-block">=</span>
                <img width="272" height="300" data-src="imgs/angularnative.png" alt="" class="noborder vertical-block">
            </div>
        </section>

        <section>
            <h2>What is NativeScript?</h2>
            <h3><span class="notify">Idea: write native apps with JS</span></h3>
            <div style="position:relative">
                <p class="fragment fade-in"
                   style="position:absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;"
                   data-fragment-index="0">
                    <span class="green">Or: </span><span class="warning">100% native performance?</span>
                </p>
                <p class="fragment fade-out"
                   style="position:absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;"
                   data-fragment-index="0">
                    <span class="green">Goal: </span>Access to 100% native functionality
                </p>
            </div>
        </section>


        <section>
            <h2>100% native functionality</h2>
        </section>
        <section>
            <h3>How does it work?</h3>
            <img width="900" height="400" data-src="images/what-is-hybrid.png" alt="" class="noborder">
        </section>
        <section>
            <h3>How does it work?</h3>
            <div style="position:relative; height: 750px">
                <img width="700" height="540"
                     data-fragment-index="0"
                     style="position:absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;"
                     data-src="images/ios-os.svg" alt="" class="fragment fade-in noborder">
                <img width="700" height="540"
                     data-fragment-index="0"
                     style="position:absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;"
                     data-src="images/android-os.svg" alt="" class="fragment fade-out noborder">
            </div>
        </section>
        <section>
            <h3>How does it work?</h3>
            <pre><code class="javascript" data-trim style="font-size: 32px; line-height: 36px;">
var file = new java.io.File(path);
            </code></pre>
            <ul style="font-size: 32px;">
                <li>Virtual machine executes JavaScript code.</li>
                <li>Binding defines corresponding native call methods.</li>
                <li>Marshaling is performed between JavaScript string and the java.lang.String object</li>
                <li>The result of the function call is a custom JavaScript object,
                    which serves as a proxy for a native java.io.File object,
                    created on the Android side. When a method is called for this proxy,
                    it is delegated to the underlying native object instance.</li>
            </ul>
        </section>
        <section>
            <h3>What does it look like in the code?</h3>
            <div>Example from documentation:</div>
            <pre><code class="javascript" data-trim style="font-size: 32px; line-height: 36px;">
// iOS
var array = new NSMutableArray();
array.addObject(new NSObject());

// Android
var context = ...;
var button =
        new android.widget.Button(context);
// "My Button" is converted
//          to java.lang.String
button.setText("My Button");
            </code></pre>
        </section>
        <section>
            <h3>What does it look like in the code?</h3>
            <div>Example from real life:</div>
            <pre><code class="javascript" data-trim style="font-size: 32px; line-height: 36px;">
var listView =
        this.page.getViewById("list_view");
listView.on(ListView.itemLoadingEvent,
    (args: ItemEventData)=> {
    // disable select colors if it iOS
    if (args.ios) {
        args.ios.selectionStyle =
            UITableViewCellSelectionStyle
                .UITableViewCellSelectStyleNone;
    }
});</code></pre>
        </section>
        <section>
            <h2><span class="blue">What's the difference from Angular ?</span></span></h2>
            <h2 class="fragment"><span>There is none...</span></h2>
        </section>
        <section>
            <h3>Except:</h3>
<!--            <img width="650" height="410" data-src="imgs/mobile_layout.png" alt="" class="noborder vertical-block">-->
            <pre><code class="xml" data-trim style="font-size: 24px; line-height: 24px;">
<ios>
    <Imаge [src]="itemObject.img_url">
    </Imаge>
</ios>
<android>
    <FrescoDrawee [imageUri]="itemObject.img_url">
    </FrescoDrawee>
</android>
            </code></pre>
        </section>
        <section>
            <h3>And the magical postfixes...</h3>
            <ul>
                <li><span class="blue">*.</span><span class="warning">android</span><span class="blue">.*</span></li>
                <li><span class="blue">*.</span><span class="warning">ios</span><span class="blue">.*</span></li>
                <li class="fragment"><span class="blue">*-</span><span class="warning">common</span><span class="blue">.*</span></li>
            </ul>
        </section>
        <section>
            <h3>100% native performance</h3>
            <h5><span class="notify">Last update: March.2016</span></h5>
            <h5><span class="green">Requires: iOS 8+ device(iPhone 5s)</span></h5>
            <ul>
                <li>Native - Xcode 6.3.2</li>
                <li>NativeScript - NativeScript for iOS 1.6.0</li>
                <li>Xamarin - Xamarin Studio 5.10.2</li>
                <li>Appcelerator - Appcelerator CLI 4.1.0</li>
                <li>Cordova - Apache Cordova 5.1.1</li>
                <li>React Native - 0.19</li>
            </ul>
        </section>
        <section>
            <h3>Launch time</h3>
            <div class="green">Blank app with a single button.</div>
            <table>
                <thead>
                <tr>
                    <th>Platform</th>
                    <th>Run 1</th>
                    <th>Run 2</th>
                    <th>Run 3</th>
                </tr>
                </thead>
                <tbody>
                <tr class="no-borders">
                    <td>Native</td>
                    <td>111ms</td>
                    <td>105ms</td>
                    <td>108ms</td>
                </tr>
                <tr class="no-borders">
                    <td>React Native</td>
                    <td>358ms</td>
                    <td>361ms</td>
                    <td>353ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Xamarin Forms</td>
                    <td>484ms</td>
                    <td>471ms</td>
                    <td>469ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Cordova</td>
                    <td>613ms</td>
                    <td>612ms</td>
                    <td>609ms</td>
                </tr>
                <tr class="no-borders">
                    <td><span class="blue">NativeScript</span></td>
                    <td><span class="blue">674ms</span></td>
                    <td><span class="blue">672ms</span></td>
                    <td><span class="blue">670ms</span></td>
                </tr>
                </tbody>
            </table>
        </section>
        <section>
            <h3>Primitives</h3>
            <div class="green">Marshaling between JavaScript and native part.
                The data is presented for 1 000 000 native code calls.</div>
            <table>
                <thead>
                <tr>
                    <th>Platform</th>
                    <th>Run 1</th>
                    <th>Run 2</th>
                    <th>Run 3</th>
                </tr>
                </thead>
                <tbody>
                <tr class="no-borders">
                    <td>Native</td>
                    <td>5ms</td>
                    <td>4ms</td>
                    <td>4ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Xamarin</td>
                    <td>27ms</td>
                    <td>27ms</td>
                    <td>28ms</td>
                </tr>
                <tr class="no-borders">
                    <td><span class="blue">NativeScript</span></td>
                    <td><span class="blue">989ms</span></td>
                    <td><span class="blue">998ms</span></td>
                    <td><span class="blue">980ms</span></td>
                </tr>
                <tr class="no-borders">
                    <td>Appcelerator</td>
                    <td>34444ms</td>
                    <td>33969ms</td>
                    <td>35916ms</td>
                </tr>
                <tr class="no-borders">
                    <td>React Native</td>
                    <td>130600ms</td>
                    <td>125140ms</td>
                    <td>127220ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Cordova</td>
                    <td>351420ms</td>
                    <td>357940ms</td>
                    <td>356740ms</td>
                </tr>
                </tbody>
            </table>
        </section>
        <section>
            <h3>Strings</h3>
            <div class="green">Marshaling between JavaScript and native part.
                The data is presented for 1 000 000 native code calls.</div>
            <table>
                <thead>
                <tr>
                    <th>Platform</th>
                    <th>Run 1</th>
                    <th>Run 2</th>
                    <th>Run 3</th>
                </tr>
                </thead>
                <tbody>
                <tr class="no-borders">
                    <td>Native</td>
                    <td>42ms</td>
                    <td>42ms</td>
                    <td>42ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Xamarin</td>
                    <td>248ms</td>
                    <td>234ms</td>
                    <td>244ms</td>
                </tr>
                <tr class="no-borders">
                    <td><span class="blue">NativeScript</span></td>
                    <td><span class="blue">415ms</span></td>
                    <td><span class="blue">444ms</span></td>
                    <td><span class="blue">418ms</span></td>
                </tr>
                <tr class="no-borders">
                    <td>Appcelerator</td>
                    <td>3215ms</td>
                    <td>3198ms</td>
                    <td>3180ms</td>
                </tr>
                <tr class="no-borders">
                    <td>React Native</td>
                    <td>12358ms</td>
                    <td>12464ms</td>
                    <td>12547ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Cordova</td>
                    <td>36864ms</td>
                    <td>36063ms</td>
                    <td>35861ms</td>
                </tr>
                </tbody>
            </table>
        </section>
        <section>
            <h3>Big Data</h3>
            <div class="green">Marshaling of an array of 65 536 elements between
                JavaScript and native part. The data is presented for 200 native code calls.
            </div>
            <table>
                <thead>
                <tr>
                    <th>Platform</th>
                    <th>Run 1</th>
                    <th>Run 2</th>
                    <th>Run 3</th>
                </tr>
                </thead>
                <tbody>
                <tr class="no-borders">
                    <td>Native</td>
                    <td>768ms</td>
                    <td>774ms</td>
                    <td>759ms</td>
                </tr>
                <tr class="no-borders">
                    <td><span class="blue">NativeScript</span></td>
                    <td><span class="blue">1135ms</span></td>
                    <td><span class="blue">1129ms</span></td>
                    <td><span class="blue">1138ms</span></td>
                </tr>
                <tr class="no-borders">
                    <td>Xamarin</td>
                    <td>3763ms</td>
                    <td>3906ms</td>
                    <td>3789ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Cordova</td>
                    <td>9655ms</td>
                    <td>9714ms</td>
                    <td>9730ms</td>
                </tr>
                <tr class="no-borders">
                    <td>React Native</td>
                    <td>47873ms</td>
                    <td>47695ms</td>
                    <td>47859ms</td>
                </tr>
                <tr class="no-borders">
                    <td>Appcelerator</td>
                    <td>50091ms</td>
                    <td>45149ms</td>
                    <td>47927ms</td>
                </tr>
                </tbody>
            </table>
        </section>
        <section>
            <div style="position:relative; height: 750px">
                <h3>The truth about native performance</h3>
                <p class="fragment fade-in"
                   style="position:absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;"
                   data-fragment-index="0">
                    <span class="warning" style="font-size: 84px; line-height: 350px;">All tests LIE!</span>
                </p>
                <img width="700" height="462" data-src="imgs/lie.jpg" alt=""
                     class="noborder vertical-block fragment fade-out"
                     style="position:absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;"
                     data-fragment-index="0">
            </div>
        </section>
        <section>
            <h3>The strength</h3>
            <h3><span class="warning">in the Threads!</span></h3>
            <img width="300" height="300" data-src="images/thread.png" alt="" class="noborder">
        </section>
        <section>
            <h3>ReactNative</h3>
            <img width="700" height="540" data-src="images/react_native.png" alt="" class="noborder vertical-block">
        </section>
        <section>
            <h3>AngularNative</h3>
            <img width="700" height="380" data-src="images/ww.jpg" alt="" class="noborder vertical-block">
        </section>

        <!--несколько приятных мелочей-->
        <section>
            <h2>A couple of nice things</h2>
        </section>
        <section>
            <h3>Code sharing</h3>
            <img width="640" height="348" data-src="images/share_0.png" alt="" class="noborder vertical-block">
        </section>
        <section>
            <h3>Code sharing</h3>
            <img width="700" height="380" data-src="imgs/share.gif" alt="" class="noborder vertical-block">
        </section>
        <section>
            <h3>Code sharing</h3>
            <img width="480" height="366" data-src="imgs/desktop.gif" alt="" class="noborder vertical-block">
        </section>
        <section>
            <h3>https://github.com/NathanWalker/angular-seed-advanced</h3>
            <img width="360" height="360" data-src="imgs/qr-seed.gif" alt="" class="noborder vertical-block">
        </section>
        <section>
            <h3>ES6</h3>
            <div>Generally speaking, NativeScript uses the latest stable releases of V8
                and JavaScriptCore. That is why support for the ECMAScript language in
                NativeScript for iOS is similar to support for desktop Safari, and support
                in NativeScript for Android is similar to support is similar to support
                for desktop Chrome.
            </div>
        </section>
        <section>
            <h3>Upgrading hybrid apps to natives with NativeScript</h3>
            <img width="360" height="360" data-src="imgs/qr-native.gif" alt="" class="noborder vertical-block">
        </section>
        <section>
            <h3>And a lot of other things....</h3>
            <ul>
                <li class="fragment">Extension of existing native apps</li>
                <li class="fragment">Work with Android widgets</li>
                <li class="fragment">Tests with Mocha.js, Appium, etc.</li>
                <li class="fragment">Universal Windows Platform</li>
                <li class="fragment">Telerik App Builder</li>
                <li class="fragment">WebInspector & NodeInspector for debugging</li>
                <li class="fragment">Default Themes</li>
                <li class="fragment">v.3</li>
            </ul>
        </section>
        <!--реальность использования-->
        <section>
            <h2><span class="warning">But in real life...</span></h2>
            <h3><span class="notify">Just the first week of a project</span></h3>
        </section>
        <section>
            <h3><span class="eng">QA:</span> <span class="green">Feedback</span></h3>
            <ul class="list-style">
                <li><span class="warning">-&#x9;Almost every animation malfunctions if you manage to tap "back" on an Android device during an animation.</span>
                </li>
                <li><span class="notify">+&#x9;A list of 3000 objects scrolls nicely! ;-)</span></li>
            </ul>
        </section>
        <section>
            <h3>Developers: <span class="warning">Difficulties</span></h3>
            <ul>
                <li>CLI: emulator doesn't always launch on the first try.</li>
                <li>When creating a component structure from standard layout templates,
                    the emulator sometimes crashes, or just a blank screen is shown.
                    It is very hard to define the cause of this behavior.
                </li>
            </ul>
        </section>
        <section>
            <h3>Developers: <span class="warning">Difficulties</span></h3>
            <ul>
                <li>There is no stable inspector for livesync, no opportunity to see the layout.</li>
                <li>There is no opportunity to use standard html elements of layouting.
                    Stylization of ready templates becomes more difficult because it's
                    impossible to check their basic CSS options. Therefore, sometimes some
                    of the options cannot be modified.
                </li>
            </ul>
        </section>
        <section>
            <h3>Developers: <span class="notify">What they liked</span></h3>
            <ul>
                <li>CLI.</li>
                <li>Off-the-shelf animations.</li>
                <li>Off-the-shelf layout elements, which are rendered differently,
                    depending on the platform (e.g. the same code for all platforms).
                </li>
            </ul>
        </section>
        <section>
            <h3>Developers: <span class="notify">What they liked</span></h3>
            <ul>
                <li>Convenient layout containers. You can quickly make up a simple design.
                </li>
                <li>It is possible to develop for two platforms at the same time – division
                    and automated selection of files (templates, CSS) .android and .ios,
                    depending on the build.
                </li>
                <li>Angular + RxJS as a flexible means to asynchronous operations.</li>
            </ul>
        </section>
        <section>
            <h3>Developers: <span class="warning">What they disliked</span></h3>
            <ul>
                <li>Less convenient than Web development.</li>
                <li>Difficult stylization, if a custom design is used.</li>
                <li>Errors, if several layout templates mismatch.</li>
                <li>For quick and effective development it is necessary to know the specifics of Angular and the native platform.</li>
            </ul>
        </section>
        <section>
            <h3>An outside opinion:</h3>
            <ul>
                <li class="fragment">Why are the demos so bad?</li>
                <li class="fragment">Splashscreen?</li>
            </ul>
        </section>
        <section>
            <h3>Real case: before</h3>
            <img width="340" height="600" data-src="imgs/first_try_1.png" alt=""
                 class="noborder vertical-block">
            <img width="340" height="600" data-src="imgs/first_try_2.png" alt=""
                 class="noborder vertical-block">

        </section>
        <section style="top: 0 !important;"
                data-background-video="video/nativescript.mp4"
                data-background-video-loop>
            <h3><span class="green">Real case: after</span></h3>
        </section>
        <section>
            <h3>Conclusions:</h3>
            <ul>
                <li class="fragment"><span class="green">Product Ready</span></li>
                <li class="fragment">Keep in mind - <span class="red">you need to study the specifics of platforms!</span></li>
                <li class="fragment"><span class="blue">Asynchrony does not equal threads, use Web Workers</li>
                <li class="fragment">Keep an eye on official issues!</li>
            </ul>
        </section>
        <section>
            <h3>Several useful links</h3>
            <ul style="font-size: 24px">
                <li><a href="http://www.nativescript.org/">http://www.nativescript.org/</a></li>
                <li><a href="http://docs.nativescript.org/angular/start/introduction.html">http://docs.nativescript.org/angular/start/introduction.html</a>
                </li>
                <li><a href="http://www.hybridtonative.com/">http://www.hybridtonative.com/</a></li>
                <li><a href="http://nativescript.github.io/developer-day-workshop/">http://nativescript.github.io/developer-day-workshop/</a>
                </li>
                <li><a href="http://www.nativescript.org/ctos-guide">http://www.nativescript.org/ctos-guide</a></li>
                <li><a href="http://developer.telerik.com/featured/nativescript-a-technical-overview/">http://developer.telerik.com/featured/nativescript-a-technical-overview/</a>
                </li>
                <li><a href="http://developer.telerik.com/featured/nativescript-works/">http://developer.telerik.com/featured/nativescript-works/</a>
                </li>
                <li><a href="http://developer.telerik.com/featured/nativescript-android/">http://developer.telerik.com/featured/nativescript-android/</a>
                </li>
                <li><a href="http://github.com/NativeScript/sample-iOS-Profiling/tree/performance-tests">http://github.com/NativeScript/sample-iOS-Profiling/tree/performance-tests</a>
                </li>
                <li><a href="http://developer.telerik.com/featured/benefits-single-threading-model-nativescript/">http://developer.telerik.com/featured/benefits-single-threading-model-nativescript/</a>
                </li>
                <li>
                    <a href="http://www.quora.com/What-are-the-key-difference-between-ReactNative-and-NativeScript/answer/Valentin-Stoychev">http://www.quora.com/What-are-the-key-difference-between-ReactNative-and-NativeScript/answer/Valentin-Stoychev</a>
                </li>
                <li><a href="http://github.com/NativeScript/NativeScript/issues/1563">http://github.com/NativeScript/NativeScript/issues/1563</a>
                </li>
                <li>
                    <a href="http://medium.com/@enchev/extend-your-existing-android-app-with-angular-2-and-nativescript-56a4e1c72d6">http://medium.com/@enchev/extend-your-existing-android-app-with-angular-2-and-nativescript-56a4e1c72d6</a>
                </li>
                <li>
                    <a href="http://github.com/NativeScript/docs/blob/master/publishing/creating-launch-screens-android.md">http://github.com/NativeScript/docs/blob/master/publishing/creating-launch-screens-android.md</a>
                </li>
            </ul>
        </section>
        <section>
            <h2><span class="blue">Thank you for your attention.</span></h2>
            <h2><span class="blue">Any questions?</span></h2>
        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
</body>
</html>
